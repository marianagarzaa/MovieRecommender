<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>IMDB Top 250 Recommender</title>
  </head>
  <body>
    <h1>Filter the Top 250</h1>
    <form method="post">
      <label>
        Min Rating:
        <input type="number" step="0.1" name="min_rating"
               value="{{ request.form.min_rating }}">
      </label>
      <label>
        Genre:
        <select name="genre">
          <option value="">— any —</option>
          {% for g in genres %}
            <option value="{{ g }}"
              {% if request.form.genre == g %}selected{% endif %}>
              {{ g }}
            </option>
          {% endfor %}
        </select>
      </label>
      <button type="submit">Apply</button>
    </form>

    <ul>
      {% for m in movies %}
        <li>
          <strong>{{ m.title }}</strong> ({{ m.year }}) —
          Rating: {{ m.rating }} —
          Genres: {{ m.genres|join(', ') }}
        </li>
      {% endfor %}
    </ul>
  </body>
</html>
